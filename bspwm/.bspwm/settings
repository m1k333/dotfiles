#!/bin/sh

## Settings that are sourced by bspwm, bspwm-panel, and sxhkd should go
## in this file.  It should not run anything on its own.

## Panel settings ######################################################
PANEL_FIFO='/tmp/bspwm-panel-fifo'
PANEL_FONT_FAMILY='xft:DejaVu Sans Mono:bold:size=11'
PANEL_HEIGHT=18
# BAT='/sys/class/power_supply/BAT1'
BAT='AC' # BAT='NONE' to disable bat. monitor; BAT='AC' to show "A/C"

## BSPWM state flags ###################################################
PANEL_HIDDEN_FLAG='/tmp/bspwm-panel-hidden'
BSPWM_INITIALIZED_FLAG='/tmp/bspwm-initialized'

## BSPWM settings ######################################################
BORDER_WIDTH=1
WINDOW_GAP=8
FOCUS_FOLLOWS_POINTER='true'
BORDERLESS_MONOCLE='true'
GAPLESS_MONOCLE='true'

## Desktop settings ####################################################
# Put a wallpaper.(jpg|png) file in ${HOME}/.bspwm and it will be 
# detected and used.  Requires feh.

## Colour scheme #######################################################
black='000000'
white='B0B0B0'
red='dc322f'
orange='cb4b16'
yellow='b58900'
green='859900'
cyan='2aa198'
blue='268bd2'
magenta='d33682'
violet='6c71c4'
foreground0='586e75'
foreground1='657b83'
foreground2='839496'
foreground3='93a1a1'
dark0='002b36'
dark1='073642'
light0='eee8d5'
light1='fdf6e3'

## dmenu settings ######################################################
bspwm_dmenu()
{
    dmenu_run -i -h ${PANEL_HEIGHT} -fn "\'$PANEL_FONT_FAMILY\'" \
    -nf "#$foreground3" -nb "#$black" -sf "#$black" -sb "#$blue";
}

## Border colours ######################################################
import_border_colors()
{
    bspc config focused_border_color         "#$magenta";
    bspc config focused_locked_border_color  "#$magenta";
    bspc config focused_sticky_border_color  "#$magenta";
    bspc config focused_private_border_color "#$magenta";
    bspc config active_border_color          "#$magenta";
    bspc config active_locked_border_color   "#$magenta";
    bspc config active_sticky_border_color   "#$magenta";
    bspc config active_private_border_color  "#$magenta";
    bspc config normal_border_color          "#$blue";
    bspc config presel_border_color          "#$green";
    bspc config urgent_border_color          "#$red";
    bspc config normal_locked_border_color   "#$red";
    bspc config normal_sticky_border_color   "#$yellow";
    bspc config normal_private_border_color  "#$yellow";
}

## Monitor settings ####################################################
import_monitors()
{   
    bspc monitor -d 1 2 3 4 5 6 7 8 9 0 ;
}

## BSPWM quit script ###################################################
bspwm_quit()
{
    rm -f $PANEL_HIDDEN_FLAG
    rm -f $BSPWM_INITIALIZED_FLAG

    while pgrep -x bspwm-panel > /dev/null 2>&1
    do
        pkill -x -9 bspwm-panel 2> /dev/null
    done

    while pgrep -x redshift > /dev/null 2>&1
    do
        pkill -x -9 redshift 2> /dev/null
    done

    bspc quit;
}

## EOF #################################################################
