## SXHKD Config
## MSR 2014-2015

##
## BSPWM commands
##

## Quit bspwm
super + ctrl + alt + Escape
    $\{HOME\}/.bspwm/quit.sh

## Reload sxhkd
super + Escape
    pkill -x -SIGUSR1 sxhkd

## Terminal (+ shift for floating terminal)
super + {shift + ,_}Return
    {bspc rule -a urxvt -o floating=on && ,_}urxvt

## Launcher (+ shift for floating launcher)
super + {_,shift + }r
    $\{HOME\}/.bspwm/launcher.sh {_,floating}
super + w
    rofi -show window

## Toggle panel
super + grave
    $\{HOME\}/.bspwm/hidepanel.sh

## Banish mouse
super + x
    wmp 25000 25000

## Lock screen
super + z
    lock

##
## Desktop & window commands
##

## {close,kill} window
super + {_,ctrl + alt + }c
    bspc window -{c,k}

## Toggle floating mode for {desktop,window}
super + {_,shift + }space
    {$\{HOME\}/.bspwm/floatingmode.sh,bspc window focused -t floating}

## Toggle {monocle mode,fullscreen} for focused window
super + {m,f}
    {$\{HOME\}/.bspwm/monoclemode.sh,bspc window -t fullscreen}

## Focus or move a window to desktop X
super + {_,shift + }{1-9,0}
    bspc {desktop -f,window -d} ^{1-9,10}

## {focus,move a window to} the next/previous desktop
super + {_,shift + }{comma,period}
    bspc {desktop -f,window focused -d} {prev,next}

## Switch to {next,prev} window
super + {_,shift + }Tab
    bspc window -f {next,prev}

## Focus tiling window or move floating window (tries tiling, then floating)
super + h
    bspc window -f left  || wmv -40 0 $(pfw)
super + j
    bspc window -f down  || wmv 0 +40 $(pfw)
super + k
    bspc window -f up    || wmv 0 -40 $(pfw)
super + l
    bspc window -f right || wmv +40 0 $(pfw)

# Move tiling window or resize floating window (tries tiling, then floating)
super + shift + h
    bspc window -s left  || wrs -40 0 $(pfw)
super + shift + j
    bspc window -s down  || wrs 0 +40 $(pfw)
super + shift + k
    bspc window -s up    || wrs 0 -40 $(pfw)
super + shift + l
    bspc window -s right || wrs +40 0 $(pfw)

## Extend (or shrink) a tiled window (for windows touching walls)
super + alt + {h,j,k,l}
    {                                                       \
      bspc window -e left  -40 || bspc window -e right -40, \
      bspc window -e down  +40 || bspc window -e up    +40, \
      bspc window -e up    -40 || bspc window -e down  -40, \
      bspc window -e right +40 || bspc window -e left  +40  \
    }

## Shrink (or expand) a tiled window (for windows not touching walls)
super + alt + shift + {h,j,k,l}
    {                                                       \
      bspc window -e right -40 || bspc window -e left  -40, \
      bspc window -e up    +40 || bspc window -e down  +40, \
      bspc window -e down  -40 || bspc window -e up    -40, \
      bspc window -e left  +40 || bspc window -e right +40  \
    }

## Preselect part of a window
super + ctrl + {h,j,k,l}
    bspc window -p {left,down,up,right}

## Set preselection size ratio
super + ctrl + {1-9}
    bspc window -r 0.{1-9}

## Move window to last preselection
super + p
    bspc window -w last.manual

## {in,de}crease useless gaps
super + {plus,minus}
    bspc config -d focused window_gap \
    $(( $(bspc config -d focused window_gap) {+,-} 1 ))

## Reset useless gaps
super + equal
    GAP=$(awk '$3 ~ /window_gap/ \{print $4\}' $\{HOME\}/.bspwm/bspwmrc) \
    && bspc config -d focused window_gap $\{GAP\}

##
## Mouse controls
##

## Track and send pointer coordinates
super + {!,@}button{1,2,3}
    bspc pointer {-t %i %i,-u}{_,_,_}

## Focus window
~button1
    bspc pointer -g focus

## Rearrange/resize windows
super + button{1,2,3}
    bspc pointer -g {move,resize_side,resize_corner}

##
## External commands
##

## Adjust ALSA volume
XF86Audio{RaiseVolume,LowerVolume,Mute}
    amixer set Master {5%+,5%-,toggle}
super + F{11,10,9}
    amixer set Master {5%+,5%-,toggle}

## Control MPC
XF86Audio{Play,Stop,Prev,Next}
    mpc {toggle,stop,prev,next}
super + F{5,6,7,8}
    mpc {toggle,stop,prev,next}

## Screenshot
{_,shift + }Print
    screenshot {screen,window}

## EOF
